(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{GrlX:function(t,e,r){var n=r("T016"),a=r("JRS9"),s={};for(var o in n)n.hasOwnProperty(o)&&(s[n[o]]=o);var i=t.exports={to:{},get:{}};function h(t,e,r){return Math.min(Math.max(e,t),r)}function l(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}i.get=function(t){var e,r;switch(t.substring(0,3).toLowerCase()){case"hsl":e=i.get.hsl(t),r="hsl";break;case"hwb":e=i.get.hwb(t),r="hwb";break;default:e=i.get.rgb(t),r="rgb"}return e?{model:r,value:e}:null},i.get.rgb=function(t){if(!t)return null;var e,r,a,s=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(a=e[2],e=e[1],r=0;r<3;r++){var o=2*r;s[r]=parseInt(e.slice(o,o+2),16)}a&&(s[3]=Math.round(parseInt(a,16)/255*100)/100)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(a=(e=e[1])[3],r=0;r<3;r++)s[r]=parseInt(e[r]+e[r],16);a&&(s[3]=Math.round(parseInt(a+a,16)/255*100)/100)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(r=0;r<3;r++)s[r]=parseInt(e[r+1],0);e[4]&&(s[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(e=t.match(/(\D+)/))?"transparent"===e[1]?[0,0,0,0]:(s=n[e[1]])?(s[3]=1,s):null:null;for(r=0;r<3;r++)s[r]=Math.round(2.55*parseFloat(e[r+1]));e[4]&&(s[3]=parseFloat(e[4]))}for(r=0;r<3;r++)s[r]=h(s[r],0,255);return s[3]=h(s[3],0,1),s},i.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])+360)%360,h(parseFloat(e[2]),0,100),h(parseFloat(e[3]),0,100),h(isNaN(r)?1:r,0,1)]}return null},i.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,h(parseFloat(e[2]),0,100),h(parseFloat(e[3]),0,100),h(isNaN(r)?1:r,0,1)]}return null},i.to.hex=function(){var t=a(arguments);return"#"+l(t[0])+l(t[1])+l(t[2])+(t[3]<1?l(Math.round(255*t[3])):"")},i.to.rgb=function(){var t=a(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},i.to.rgb.percent=function(){var t=a(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+r+"%, "+n+"%)":"rgba("+e+"%, "+r+"%, "+n+"%, "+t[3]+")"},i.to.hsl=function(){var t=a(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},i.to.hwb=function(){var t=a(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},i.to.keyword=function(t){return s[t.slice(0,3)]}},JRS9:function(t,e,r){"use strict";var n=r("uPr3"),a=Array.prototype.concat,s=Array.prototype.slice,o=t.exports=function(t){for(var e=[],r=0,o=t.length;r<o;r++){var i=t[r];n(i)?e=a.call(e,s.call(i)):e.push(i)}return e};o.wrap=function(t){return function(){return t(o(arguments))}}},T016:function(t,e,r){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},aSns:function(t,e,r){"use strict";var n=r("GrlX"),a=r("uxXc"),s=[].slice,o=["keyword","gray","hex"],i={};Object.keys(a).forEach((function(t){i[s.call(a[t].labels).sort().join("")]=t}));var h={};function l(t,e){if(!(this instanceof l))return new l(t,e);if(e&&e in o&&(e=null),e&&!(e in a))throw new Error("Unknown model: "+e);var r,c;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof l)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var u=n.get(t);if(null===u)throw new Error("Unable to parse color from string: "+t);this.model=u.model,this.color=u.value.slice(0,c=a[this.model].channels),this.valpha="number"==typeof u.value[c]?u.value[c]:1}else if(t.length){this.model=e||"rgb";var d=s.call(t,0,c=a[this.model].channels);this.color=g(d,c),this.valpha="number"==typeof t[c]?t[c]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var p=Object.keys(t);"alpha"in t&&(p.splice(p.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var f=p.sort().join("");if(!(f in i))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=i[f];var b=a[this.model].labels,m=[];for(r=0;r<b.length;r++)m.push(t[b[r]]);this.color=g(m)}if(h[this.model])for(c=a[this.model].channels,r=0;r<c;r++){var v=h[this.model][r];v&&(this.color[r]=v(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function c(t,e,r){return(t=Array.isArray(t)?t:[t]).forEach((function(t){(h[t]||(h[t]=[]))[e]=r})),t=t[0],function(n){var a;return arguments.length?(r&&(n=r(n)),(a=this[t]()).color[e]=n,a):(a=this[t]().color[e],r&&(a=r(a)),a)}}function u(t){return function(e){return Math.max(0,Math.min(t,e))}}function d(t){return Array.isArray(t)?t:[t]}function g(t,e){for(var r=0;r<e;r++)"number"!=typeof t[r]&&(t[r]=0);return t}l.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in n.to?this:this.rgb(),r=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return n.to[e.model](r)},percentString:function(t){var e=this.rgb().round("number"==typeof t?t:1),r=1===e.valpha?e.color:e.color.concat(this.valpha);return n.to.rgb.percent(r)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=a[this.model].channels,r=a[this.model].labels,n=0;n<e;n++)t[r[n]]=this.color[n];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new l(this.color.map(function(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new l(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:c("rgb",0,u(255)),green:c("rgb",1,u(255)),blue:c("rgb",2,u(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,(function(t){return(t%360+360)%360})),saturationl:c("hsl",1,u(100)),lightness:c("hsl",2,u(100)),saturationv:c("hsv",1,u(100)),value:c("hsv",2,u(100)),chroma:c("hcg",1,u(100)),gray:c("hcg",2,u(100)),white:c("hwb",1,u(100)),wblack:c("hwb",2,u(100)),cyan:c("cmyk",0,u(100)),magenta:c("cmyk",1,u(100)),yellow:c("cmyk",2,u(100)),black:c("cmyk",3,u(100)),x:c("xyz",0,u(100)),y:c("xyz",1,u(100)),z:c("xyz",2,u(100)),l:c("lab",0,u(100)),a:c("lab",1),b:c("lab",2),keyword:function(t){return arguments.length?new l(t):a[this.model].keyword(this.color)},hex:function(t){return arguments.length?new l(t):n.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],r=0;r<t.length;r++){var n=t[r]/255;e[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return l.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),r=e.color[0];return e.color[0]=r=(r=(r+t)%360)<0?360+r:r,e},mix:function(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);var r=t.rgb(),n=this.rgb(),a=void 0===e?.5:e,s=2*a-1,o=r.alpha()-n.alpha(),i=((s*o==-1?s:(s+o)/(1+s*o))+1)/2,h=1-i;return l.rgb(i*r.red()+h*n.red(),i*r.green()+h*n.green(),i*r.blue()+h*n.blue(),r.alpha()*a+n.alpha()*(1-a))}},Object.keys(a).forEach((function(t){if(-1===o.indexOf(t)){var e=a[t].channels;l.prototype[t]=function(){if(this.model===t)return new l(this);if(arguments.length)return new l(arguments,t);var r="number"==typeof arguments[e]?e:this.valpha;return new l(d(a[this.model][t].raw(this.color)).concat(r),t)},l[t]=function(r){return"number"==typeof r&&(r=g(s.call(arguments),e)),new l(r,t)}}})),t.exports=l},"ct+p":function(t,e,r){"use strict";r.r(e),r.d(e,"HomePageModule",(function(){return M}));var n=r("ofXK"),a=r("TEn/"),s=r("3Pt+"),o=r("tyNb"),i=r("mrSG"),h=r("aSns"),l=r.n(h);class c{static loadResources(t){return new Promise(e=>Object(i.a)(this,void 0,void 0,(function*(){let r=0;const n=[],a=()=>Object(i.a)(this,void 0,void 0,(function*(){const s=yield c.loadResource(t[r]);n.push(s),r++,r<t.length?yield a():e(n)}));yield a()})))}static loadResource(t){return new Promise((e,r)=>{const n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=()=>{if(200===n.status){const t=URL.createObjectURL(n.response);e(t)}},n.onprogress=e=>{const r=Math.floor(e.loaded/e.total);console.log(`${t}: [${r}%]`)},n.onerror=r,n.send()})}static loadImages(t){return new Promise(e=>Object(i.a)(this,void 0,void 0,(function*(){let r=0;const n=[],a=()=>Object(i.a)(this,void 0,void 0,(function*(){const s=yield c.loadImage(t[r]);n.push(s),r++,r<t.length?yield a():e(n)}));yield a()})))}static loadImage(t){return new Promise((e,r)=>{const n=new Image;n.onload=()=>e(n),n.onerror=r,n.src=t})}static getRandomColor(){return c.getRandomInArray(["#E52D2D","#2D89E5","#71E52D","#AE00FF","#91FF6A","#57BCFF","#FF6C16","#FF2F4D","#636DCD","#8CC1CD","#F917FF","#FA6900","#E0E4CD","#A7DBD7","#aedcb1","#ee4035","#f37736","#fdf498","#7bc043","#0392cf","#96ceb4","#ffeead","#ff6f69","#ffcc5c","#88d8b0","#051937","#004d7a","#008793","#00bf72","#A8EB12"])}static getRandomInArray(t){return t[Math.floor(Math.random()*t.length)]}static getRandomDirection(){return c.getRandomInArray([-1,1])}static getRandomInt(t,e){return Math.floor(Math.random()*(e-t+1)+t)}static createButton(t,e,r,n,a,s,o={},i){const h=Object.assign({fontSize:10,color:"#E0E4CD"},o);e.save(),e.fillStyle=h.color,e.shadowOffsetX=5,e.shadowOffsetY=5,e.shadowBlur=10,e.shadowColor=h.color,i?(i.rect(r,n,a,s),e.fill(i)):e.fillRect(r,n,a,s),e.restore(),e.font=`${h.fontSize}px Comic Sans MS`,e.textAlign="center",e.fillStyle="white",e.fillText(t,r+a/2,n+s/2+h.fontSize/2)}static fromGravity(t,e,r,n,a,s,o,i=(()=>{}),h=(()=>{})){return r*=.99,e+a+(n*=.99)>o?(n=-n,h()):n+=.9,(t+a>=s||t-a<=0)&&(r=-r,i()),{x:t+=r,y:e+=n,dx:r,dy:n,r:a,w:s,h:o}}static drawPop(t,e,r,n,a){t.save(),t.beginPath(),t.arc(r,n,a,0,2*Math.PI,!0),t.closePath(),t.clip(),t.drawImage(e,r-a,n-a,2*a,2*a),t.restore()}}const u=4*(Math.sqrt(2)-1)/3;class d{constructor(t,e,r,n,a,s,o=!1){this.context=t,this.centerX=e,this.centerY=r,this.radius=n,this.color=a,this.score=s,this.isSpecial=o}get darkColor(){return this.baseColor.darken(.3)}get lightColor(){return this.baseColor.lighten(.3)}get baseColor(){return new l.a(this.isSpecial?c.getRandomColor():this.color)}setPosition(t,e){return this.centerX=t,this.centerY=e,this}draw(){const t=this.context,e=this.centerX,r=this.centerY,n=this.radius,a=u*n,s=.0333*n,o=.4*n,i=r+n+o;this.path2D=new Path2D,t.beginPath();const h=e-n,l=r,c=e,d=r-n;this.path2D.moveTo(h,l),this.path2D.bezierCurveTo(h,l-a-s,c-a,d,c,d);const g=e+n;this.path2D.bezierCurveTo(e+a+s,r-n,g,r-a,g,r),this.path2D.bezierCurveTo(e+n,r+a,e+a,i,e,i);const p=e-n;this.path2D.bezierCurveTo(e-a,i,p,r+a,p,r);const f=n/3,b=t.createRadialGradient(e+f,r-f,3,e,r,n+o);b.addColorStop(0,this.lightColor.hex()),b.addColorStop(.7,this.darkColor.hex()),t.fillStyle=b,t.fill(this.path2D);const m=.12*n/2,v=.1*n,y=.13*n;t.beginPath(),t.moveTo(e-1,i),t.lineTo(e-m,i+v),t.quadraticCurveTo(e,i+y,e+m,i+v),t.lineTo(e+1,i),t.fill(),this.drawScore(n+o-5)}drawScore(t){this.context.save(),this.context.font=`${t}px Comic Sans MS`,this.context.textAlign="center",this.context.fillStyle="white",this.context.textBaseline="middle",this.context.fillText(this.score,this.centerX,this.centerY+t/4),this.context.restore()}hasCollision(t,e){return this.context.isPointInPath(this.path2D,t,e)}}class g{static delay(t){return new Promise(e=>{setTimeout(()=>e(),t)})}static requestTimeOut(t,e){let r;const n=Date.now(),a=()=>{r=requestAnimationFrame(()=>{Date.now()-n>=e?(cancelAnimationFrame(r),t()):a()})};a()}static requestAnimation(t){requestAnimationFrame(()=>t())}static timeAgo(t){const e=new Date(t),r=((new Date).getTime()-e.getTime())/1e3,n=r>0,a=Math.round(Math.abs(r)),s=Math.round(Math.abs(a/60)),o=Math.round(Math.abs(s/60)),i=Math.round(Math.abs(o/24)),h=Math.round(Math.abs(i/30.416)),l=Math.round(Math.abs(i/365));if(Number.isNaN(a))return"";if(a<=45)return n?"a few seconds ago":"after a few seconds";if(a<=90)return n?"a minute ago":"after a minute";if(s<=45){const t=s+" minutes ago";return n?t:`after ${s} minutes`}return s<=90?n?"an hour ago":"after an hour":o<=22?n?o+" hours ago":`after ${o} hours`:o<=36?n?"a day ago":"after a day":i<=25?n?i+" days ago":`after ${i} days`:i<=45?n?"a month ago":"after a month":i<=345?n?h+" months ago":`after ${h} months`:i<=545?n?"a year ago":"after a year":n?l+" years ago":`after ${l} year`}}class p{constructor(t){this.audio=document.createElement("audio"),this.audio.src=t}setLoop(t){return this.audio.loop=t,this}setCurrentTime(t){return this.audio.currentTime=t,this}play(){return this.audio.play(),this}stop(){return this.audio.pause(),this}}const f={OVAL:"OVAL",CIRCLE:"CIRCLE",SQUARE:"SQUARE",TRIANGLE:"TRIANGLE",START_01:"START_01",START_02:"START_02",START_03:"START_03",START_04:"START_04"};class b{constructor(t,e,r,n,a,s,o){this.dx=c.getRandomInt(-3,3),this.dy=c.getRandomInt(-2,2),this.radius=c.getRandomInt(5,30),this.opacity=1;const i=2*this.radius;this.ctx=t,this.x=e+c.getRandomInt(-i,i),this.y=r+c.getRandomInt(-i,i),this.frameWidth=n,this.frameHeight=a,this.color=s,this.cb=o}draw(){this.ctx.save(),this.ctx.strokeStyle="transparent",this.ctx.beginPath(),this.shapes(),this.ctx.fillStyle=this.color,this.ctx.globalAlpha=this.opacity,this.ctx.fill(),this.ctx.closePath(),this.ctx.restore()}shapes(){switch(c.getRandomInArray(Object.keys(f))){case f.OVAL:this.drawOval(this.x,this.y,this.radius);break;case f.CIRCLE:this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI,!1);break;case f.SQUARE:this.ctx.rect(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius);break;case f.START_01:this.drawStar(this.x,this.y,5,2*this.radius,this.radius);break;case f.START_02:this.drawStar(this.x,this.y,6,2*this.radius,this.radius);break;case f.START_03:this.drawStar(this.x,this.y,12,2*this.radius,this.radius);break;case f.START_04:this.drawStar(this.x,this.y,20,2*this.radius,this.radius);break;case f.TRIANGLE:this.drawTriangle(this.x,this.y,this.radius)}}drawTriangle(t,e,r){this.ctx.beginPath(),this.ctx.moveTo(t-r,e-r),this.ctx.lineTo(t-r,e+2*r),this.ctx.lineTo(t+2*r,e+2*r),this.ctx.lineTo(t-r,e-r),this.ctx.closePath(),this.ctx.stroke()}drawOval(t,e,r){this.ctx.scale(2,1),this.ctx.arc(t/2,e,r,0,2*Math.PI,!1)}drawStar(t,e,r,n,a){const s=Math.PI/r;let o=Math.PI/2*3,i=t,h=e;this.ctx.beginPath(),this.ctx.moveTo(t,e-n);for(let l=0;l<r;l++)i=t+Math.cos(o)*n,h=e+Math.sin(o)*n,this.ctx.lineTo(i,h),o+=s,i=t+Math.cos(o)*a,h=e+Math.sin(o)*a,this.ctx.lineTo(i,h),o+=s;this.ctx.lineTo(t,e-n),this.ctx.closePath(),this.ctx.stroke()}update(){const t=c.fromGravity(this.x,this.y,this.dx,this.dy,this.radius,this.frameWidth,this.frameHeight,()=>{},()=>{this.opacity-=.03});this.x=t.x,this.y=t.y,this.dx=t.dx,this.dy=t.dy,this.draw(),this.opacity<0&&(this.opacity=0,this.cb(this))}}let m=(()=>{class t{static loadPopImages(){return Object(i.a)(this,void 0,void 0,(function*(){const e=[];for(let t=1;t<=5;t++)e.push(`./assets/images/pop/${t}.png`);t.popImages=yield c.loadImages(e)}))}static loadPopLeuLeuImages(){return Object(i.a)(this,void 0,void 0,(function*(){const e=[];for(let t=1;t<=6;t++)e.push(`./assets/images/pop/leuleu/${t}.png`);t.popLeuLeuImages=yield c.loadImages(e)}))}static loadBackgroundImages(){return Object(i.a)(this,void 0,void 0,(function*(){const e=[];for(let t=1;t<=4;t++)e.push(`./assets/images/${t}.jpg`);t.backgroundImages=yield c.loadImages(e)}))}static loadPopAudios(){return Object(i.a)(this,void 0,void 0,(function*(){t.popAudios=yield c.loadResources(["./assets/sound/clap1.mp3","./assets/sound/clap2.mp3"])}))}static loadBackgroundAudio(){return Object(i.a)(this,void 0,void 0,(function*(){t.backgroundAudio=yield c.loadResource("./assets/sound/theme.mp3")}))}static load(){return Object(i.a)(this,void 0,void 0,(function*(){yield t.loadPopImages(),yield t.loadPopLeuLeuImages(),yield t.loadBackgroundImages()}))}}return t.popAudios=[],t.popImages=[],t.popLeuLeuImages=[],t.backgroundImages=[],t})();class v{constructor(){this.reset()}reset(){this.level=0,this.totalObject=0,this.pointRequired=0,this.score=[-4,50],this.startTsp=Date.now(),this.endTsp=Date.now()}next(){this.level++,this.startTsp=this.endTsp,this.endTsp=Date.now(),this.totalObject=c.getRandomInArray(Array.from(Array(15)).map((t,e)=>e+15)),this.pointRequired=300+300*this.level;let t=this.score.shift()-1,e=this.score.pop()-1;Math.abs(t)>50&&(t=-50),e<4&&(e=4),this.score=[];for(let r=t;r<=e;r++)Math.abs(r)<4?this.score.push(c.getRandomInArray(this.score)):this.score.push(r)}properties(){return{level:this.level,totalObject:this.totalObject,score:this.score,pointRequired:this.pointRequired,startTsp:this.startTsp,endTsp:this.endTsp}}}class y{constructor(t){this.startButton2D=null,this.resetButton2D=null,this.pauseButton2D=null,this.lastBalloonColor=c.getRandomColor(),this.timeAgoColor=c.getRandomColor(),this.btnStartColor=c.getRandomColor(),this.btnPauseColor=c.getRandomColor(),this.btnCountColor=c.getRandomColor(),this.btnScoreColor=c.getRandomColor(),this.gameLevel=new v,this.count=0,this.score=0,this.startTsp=0,this.endTsp=0,this.state="INTRO",this.objects=[],this.totalSmallBall=5,this.balls=[],this.textPauseButton="pause",this.ringSound=null,this.currentScore=0,this.lastPop=0,this.canvas=document.getElementById(t),this.isNotSupportCanvas()||(this.canvas.onselectstart=()=>!1,this.canvas.onclick=t=>this.onClick(t),this.soundPlayer=new p("./assets/sound/theme.mp3"),this.congratulationSoundPlayer=new p("./assets/sound/congratulation.mp3"),this.popSoundPlayer=["./assets/sound/clap1.mp3","./assets/sound/clap2.mp3"].map(t=>new p(t)),this.resize(),this.loadBackground())}isNotSupportCanvas(){return!this.canvas.getContext}getContext(){return this.canvas.getContext("2d")}onClick(t){if(t.preventDefault(),t.stopPropagation(),"LEVEL_UP"===this.state)return;const{clientX:e,clientY:r}=t;"INTRO"!==this.state&&"RESET"!==this.state?this.onClickWhilePlaying(e,r):this.onClickWhileIntro(e,r)}onClickWhileIntro(t,e){if(this.getContext().isPointInPath(this.startButton2D,t,e))return this.startGame()}onClickWhilePlaying(t,e){const r=this.getContext();if(r.isPointInPath(this.pauseButton2D,t,e))"PLAYING"===this.state?(this.soundPlayer.stop(),this.textPauseButton="play",g.requestTimeOut(()=>{this.state="PAUSED"},10)):(this.soundPlayer.play(),this.state="PLAYING",this.textPauseButton="pause");else if(r.isPointInPath(this.resetButton2D,t,e)&&"PAUSED"!==this.state)this.reset();else if("PLAYING"===this.state)for(let n=this.objects.length-1;n>=0;n--){const r=this.objects[n];if(r.canShow&&r.balloon.hasCollision(t,e)){if(r.canShow=!1,r.wasPopped=!0,this.count++,this.balloonPopped=r.balloon,this.createExplore(t,e,this.totalSmallBall),this.score+=r.score,this.lastPop=Date.now(),this.currentScore=r.score,this.score<0&&(this.score=0),this.score>=this.gameLevel.properties().pointRequired)this.levelUp();else{let t;this.lastBalloonColor=r.color,t=r.score<0?this.popSoundPlayer[1]:this.popSoundPlayer[0],t.setCurrentTime(0).play()}return}}}reset(){this.stopGame(),this.state="RESET",this.gameLevel.reset()}levelUp(){this.state="LEVEL_UP",this.objects=[],this.soundPlayer.stop(),this.congratulationSoundPlayer.setCurrentTime(0).setLoop(!0).play(),this.congratulation(0)}congratulation(t){for(let e=0;e<50;e++){const t=c.getRandomInt(5,this.width-5),e=c.getRandomInt(0,this.height/3);this.createBall(t,e)}t+=350,this.popSoundPlayer[0].setCurrentTime(0).play(),t<1750?g.requestTimeOut(()=>{this.congratulation(t)},t):(this.congratulationSoundPlayer.stop(),this.startGame())}createTextCongratulation(){const t=this.getContext();t.save(),t.textAlign="center",t.font=`${this.height/6}px Comic Sans MS`;const e=t.createLinearGradient(0,0,this.width,0);e.addColorStop(0,"#051937"),e.addColorStop(.25,"#004d7a"),e.addColorStop(.5,"#008793"),e.addColorStop(.75,"#00bf72"),e.addColorStop(1,"#A8EB12"),t.fillStyle=e,t.fillText("Level Up",this.width/2,this.height/2),t.fillText("Congratulation!",this.width/2,this.height/2+this.height/6),t.restore()}createExplore(t,e,r){for(let n=0;n<r;n++)this.createBall(t,e)}createBall(t,e){const r=this.getContext(),n=new b(r,t,e,this.width,this.height,c.getRandomColor(),t=>{const e=this.balls.indexOf(t);this.balls.splice(e,1)});this.balls.push(n)}drawScoreAndCount(){const t=this.getContext();t.save(),t.fillStyle=this.btnCountColor,t.shadowOffsetX=5,t.shadowOffsetY=5,t.shadowBlur=10,t.shadowColor=this.btnCountColor,t.fillRect(5,5,100,50),t.fillStyle=this.btnScoreColor,t.shadowColor=this.btnScoreColor,t.fillRect(110,5,100,50),t.fillRect(215,5,100,50),t.restore(),t.font="15px Comic Sans MS",t.textAlign="center",t.fillStyle="white",t.fillText(`${this.count}`,65,37.5),t.save(),new d(t,25,25,15,this.lastBalloonColor,this.currentScore).draw(),t.restore(),t.save(),t.fillText(`score: ${this.score}`,160,37.5),t.fillText(`Target: ${this.gameLevel.properties().pointRequired}`,265,37.5),t.textAlign="left",t.fillStyle=this.timeAgoColor,t.fillText(`Level: ${this.gameLevel.properties().level} - Played: ${g.timeAgo(this.startTsp)}`,5,this.height-10),this.lastPop+1e3>Date.now()&&this.currentScore&&(t.fillStyle="black",t.fillRect(this.width/2-100,this.height-35,200,30),t.textAlign="center",t.fillStyle="white",t.textBaseline="middle",t.fillText((this.currentScore<0?"flee!!! ":"gotcha!!! ")+this.currentScore,this.width/2,this.height-18)),t.restore()}renderStartButton(){const t=this.getContext(),e=(this.width-200)/2,r=(this.height-80)/2;this.startButton2D=new Path2D,c.createButton("START",t,e,r,200,80,{fontSize:35,color:this.btnStartColor},this.startButton2D)}renderPauseButton(){const t=this.getContext(),e=this.width-100-5,r=this.height-50-5;this.pauseButton2D=new Path2D,c.createButton(this.textPauseButton,t,e,r,100,50,{fontSize:15,color:this.btnPauseColor},this.pauseButton2D)}renderResetButton(){const t=this.getContext(),e=this.width-100-5;this.resetButton2D=new Path2D,c.createButton("reset",t,e,5,100,50,{fontSize:15},this.resetButton2D)}startGame(){this.score=0,this.count=0,this.lastPop=Date.now(),this.gameLevel.next(),this.state="PLAYING",this.loadBackground(),this.startTsp=Date.now(),this.soundPlayer.setLoop(!0).play(),this.shuffle();const t=new AudioContext,e=t.createOscillator();e.type="square",e.start(0);let r=Date.now();this.ringSound=()=>{if(r<Date.now()){e.disconnect();const n=t.createGain();n.gain.exponentialRampToValueAtTime(1e-5,t.currentTime+.5),e.connect(n),n.connect(t.destination),r=Date.now()+500}}}stopGame(){this.soundPlayer.stop().setCurrentTime(0),this.endTsp=Date.now()}clearRect(){this.resize(),this.getContext().clearRect(0,0,this.width,this.height)}loadBackground(){const t=c.getRandomInArray(m.backgroundImages);this.canvas.style.backgroundImage=`url(${t.src})`}resize(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight}get width(){return this.canvas.width}get height(){return this.canvas.height}draw(){if("PAUSED"!==this.state){if(this.clearRect(),"INTRO"!==this.state&&"RESET"!==this.state||this.renderStartButton(),"PLAYING"===this.state)for(const t of this.objects){this.moveX(t),this.moveY(t);const e=this.getContext();t.canShow&&(t.balloon.setPosition(t.centerX,t.centerY).draw(),t.balloon.isSpecial&&this.ringSound()),t.wasPopped&&(c.drawPop(e,t.pop,t.centerX,t.centerY,t.radius),this.speedUp(t))}"INTRO"!==this.state&&"RESET"!==this.state&&(this.drawScoreAndCount(),this.renderPauseButton(),this.renderResetButton()),"PLAYING"!==this.state&&"LEVEL_UP"!==this.state||this.balls.forEach(t=>t.update()),"LEVEL_UP"===this.state&&this.createTextCongratulation()}g.requestAnimation(()=>{this.draw()})}speedUp(t){t.speedX+=.2,t.speedY+=.2}moveX(t){t.centerX-t.radius<=0&&(t.centerX=t.radius,t.direction=1),t.centerX+t.radius>=this.width&&(t.centerX=this.width-t.radius,t.direction=-1),t.centerX+=t.speedX*t.direction}moveY(t){if(t.centerY+2*t.radius<=0){const e=this.getRandomObject(),r=Object.keys(e);for(const n of r)t[n]=e[n]}t.centerY-=t.speedY}shuffle(){this.objects=[],this.balls=[];for(let t=0;t<this.gameLevel.properties().totalObject;t++)this.objects.push(this.getRandomObject())}getRandomObject(){const t=this.gameLevel.properties();let e=c.getRandomInArray(t.score);const r=e===t.score.slice(-1).pop()&&Date.now()-t.startTsp>=2e3,n=Math.abs(e),a=c.getRandomInt(2,8),s=c.getRandomInt(2,8),o=Math.floor(this.width/15);let i=Math.floor(this.width/10)-n+1;i<=o&&(i=o),r&&(e=100,console.log("special balloon!!"));let h=c.getRandomInArray(m.popImages);const l=c.getRandomColor();e<0&&(h=c.getRandomInArray(m.popLeuLeuImages));const u=i,g=c.getRandomInt(u,this.width-u),p=this.height+2*u,f=c.getRandomDirection(),b=this.getContext();return{centerX:g,centerY:p,speedX:a,speedY:s,direction:f,radius:u,color:l,balloon:new d(b,g,p,u,l,e,r),score:e,canShow:!0,wasPopped:!1,pop:h}}}var w=r("fXoL");let x=(()=>{class t{constructor(t,e){this.loadingController=t,this.alertController=e}presentLoading(){return Object(i.a)(this,void 0,void 0,(function*(){const t=yield this.loadingController.create({message:"Game loading..."});return yield t.present(),yield m.load().catch(e=>Object(i.a)(this,void 0,void 0,(function*(){yield t.dismiss();const r=yield this.alertController.create({message:e.message});yield r.present()}))),t}))}ngOnInit(){return Object(i.a)(this,void 0,void 0,(function*(){const t=yield this.presentLoading();new y("canvas").draw(),yield t.dismiss()}))}}return t.\u0275fac=function(e){return new(e||t)(w.Ib(a.g),w.Ib(a.a))},t.\u0275cmp=w.Cb({type:t,selectors:[["app-home"]],decls:4,vars:3,consts:[[3,"fullscreen","scrollY","scrollX"],[1,"container"],["id","canvas","width","100"]],template:function(t,e){1&t&&(w.Lb(0,"ion-content",0),w.Lb(1,"div",1),w.Lb(2,"canvas",2),w.ac(3,"This text is displayed if your browser does not support HTML5 Canvas."),w.Kb(),w.Kb(),w.Kb()),2&t&&w.Wb("fullscreen",!0)("scrollY",!1)("scrollX",!1)},directives:[a.c],styles:[".container[_ngcontent-%COMP%]{width:100vw;height:100vh;position:relative}.container[_ngcontent-%COMP%]   #canvas[_ngcontent-%COMP%]{position:absolute;background-size:cover;background-repeat:no-repeat;background-position:50%;width:100%;height:100%;z-index:1;top:0;left:0;right:0;bottom:0}"]}),t})(),M=(()=>{class t{}return t.\u0275mod=w.Gb({type:t}),t.\u0275inj=w.Fb({factory:function(e){return new(e||t)},imports:[[n.b,s.a,a.e,o.i.forChild([{path:"",component:x}])]]}),t})()},onlc:function(t,e,r){var n=r("t1N5");function a(t,e){return function(r){return e(t(r))}}function s(t,e){for(var r=[e[t].parent,t],s=n[e[t].parent][t],o=e[t].parent;e[o].parent;)r.unshift(e[o].parent),s=a(n[e[o].parent][o],s),o=e[o].parent;return s.conversion=r,s}t.exports=function(t){for(var e=function(t){var e=function(){for(var t={},e=Object.keys(n),r=e.length,a=0;a<r;a++)t[e[a]]={distance:-1,parent:null};return t}(),r=[t];for(e[t].distance=0;r.length;)for(var a=r.pop(),s=Object.keys(n[a]),o=s.length,i=0;i<o;i++){var h=s[i],l=e[h];-1===l.distance&&(l.distance=e[a].distance+1,l.parent=a,r.unshift(h))}return e}(t),r={},a=Object.keys(e),o=a.length,i=0;i<o;i++){var h=a[i];null!==e[h].parent&&(r[h]=s(h,e))}return r}},t1N5:function(t,e,r){var n=r("T016"),a={};for(var s in n)n.hasOwnProperty(s)&&(a[n[s]]=s);var o=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var i in o)if(o.hasOwnProperty(i)){if(!("channels"in o[i]))throw new Error("missing channels property: "+i);if(!("labels"in o[i]))throw new Error("missing channel labels property: "+i);if(o[i].labels.length!==o[i].channels)throw new Error("channel and label counts mismatch: "+i);var h=o[i].channels,l=o[i].labels;delete o[i].channels,delete o[i].labels,Object.defineProperty(o[i],"channels",{value:h}),Object.defineProperty(o[i],"labels",{value:l})}o.rgb.hsl=function(t){var e,r,n=t[0]/255,a=t[1]/255,s=t[2]/255,o=Math.min(n,a,s),i=Math.max(n,a,s),h=i-o;return i===o?e=0:n===i?e=(a-s)/h:a===i?e=2+(s-n)/h:s===i&&(e=4+(n-a)/h),(e=Math.min(60*e,360))<0&&(e+=360),r=(o+i)/2,[e,100*(i===o?0:r<=.5?h/(i+o):h/(2-i-o)),100*r]},o.rgb.hsv=function(t){var e,r,n,a,s,o=t[0]/255,i=t[1]/255,h=t[2]/255,l=Math.max(o,i,h),c=l-Math.min(o,i,h),u=function(t){return(l-t)/6/c+.5};return 0===c?a=s=0:(s=c/l,e=u(o),r=u(i),n=u(h),o===l?a=n-r:i===l?a=1/3+e-n:h===l&&(a=2/3+r-e),a<0?a+=1:a>1&&(a-=1)),[360*a,100*s,100*l]},o.rgb.hwb=function(t){var e=t[0],r=t[1],n=t[2];return[o.rgb.hsl(t)[0],1/255*Math.min(e,Math.min(r,n))*100,100*(n=1-1/255*Math.max(e,Math.max(r,n)))]},o.rgb.cmyk=function(t){var e,r=t[0]/255,n=t[1]/255,a=t[2]/255;return[100*((1-r-(e=Math.min(1-r,1-n,1-a)))/(1-e)||0),100*((1-n-e)/(1-e)||0),100*((1-a-e)/(1-e)||0),100*e]},o.rgb.keyword=function(t){var e=a[t];if(e)return e;var r,s,o,i=1/0;for(var h in n)if(n.hasOwnProperty(h)){var l=(s=t,o=n[h],Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2)+Math.pow(s[2]-o[2],2));l<i&&(i=l,r=h)}return r},o.keyword.rgb=function(t){return n[t]},o.rgb.xyz=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*e+.7152*r+.0722*n),100*(.0193*e+.1192*r+.9505*n)]},o.rgb.lab=function(t){var e=o.rgb.xyz(t),r=e[0],n=e[1],a=e[2];return n/=100,a/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(r-n),200*(n-(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116))]},o.hsl.rgb=function(t){var e,r,n,a,s,o=t[0]/360,i=t[1]/100,h=t[2]/100;if(0===i)return[s=255*h,s,s];e=2*h-(r=h<.5?h*(1+i):h+i-h*i),a=[0,0,0];for(var l=0;l<3;l++)(n=o+1/3*-(l-1))<0&&n++,n>1&&n--,a[l]=255*(s=6*n<1?e+6*(r-e)*n:2*n<1?r:3*n<2?e+(r-e)*(2/3-n)*6:e);return a},o.hsl.hsv=function(t){var e=t[0],r=t[1]/100,n=t[2]/100,a=r,s=Math.max(n,.01);return r*=(n*=2)<=1?n:2-n,a*=s<=1?s:2-s,[e,100*(0===n?2*a/(s+a):2*r/(n+r)),(n+r)/2*100]},o.hsv.rgb=function(t){var e=t[0]/60,r=t[1]/100,n=t[2]/100,a=Math.floor(e)%6,s=e-Math.floor(e),o=255*n*(1-r),i=255*n*(1-r*s),h=255*n*(1-r*(1-s));switch(n*=255,a){case 0:return[n,h,o];case 1:return[i,n,o];case 2:return[o,n,h];case 3:return[o,i,n];case 4:return[h,o,n];case 5:return[n,o,i]}},o.hsv.hsl=function(t){var e,r,n,a=t[0],s=t[1]/100,o=t[2]/100,i=Math.max(o,.01);return n=(2-s)*o,r=s*i,[a,100*(r=(r/=(e=(2-s)*i)<=1?e:2-e)||0),100*(n/=2)]},o.hwb.rgb=function(t){var e,r,n,a,s,o,i,h=t[0]/360,l=t[1]/100,c=t[2]/100,u=l+c;switch(u>1&&(l/=u,c/=u),n=6*h-(e=Math.floor(6*h)),0!=(1&e)&&(n=1-n),a=l+n*((r=1-c)-l),e){default:case 6:case 0:s=r,o=a,i=l;break;case 1:s=a,o=r,i=l;break;case 2:s=l,o=r,i=a;break;case 3:s=l,o=a,i=r;break;case 4:s=a,o=l,i=r;break;case 5:s=r,o=l,i=a}return[255*s,255*o,255*i]},o.cmyk.rgb=function(t){var e=t[1]/100,r=t[2]/100,n=t[3]/100;return[255*(1-Math.min(1,t[0]/100*(1-n)+n)),255*(1-Math.min(1,e*(1-n)+n)),255*(1-Math.min(1,r*(1-n)+n))]},o.xyz.rgb=function(t){var e,r,n,a=t[0]/100,s=t[1]/100,o=t[2]/100;return r=-.9689*a+1.8758*s+.0415*o,n=.0557*a+-.204*s+1.057*o,e=(e=3.2406*a+-1.5372*s+-.4986*o)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(e=Math.min(Math.max(0,e),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},o.xyz.lab=function(t){var e=t[0],r=t[1],n=t[2];return r/=100,n/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(e-r),200*(r-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},o.lab.xyz=function(t){var e,r,n;e=t[1]/500+(r=(t[0]+16)/116),n=r-t[2]/200;var a=Math.pow(r,3),s=Math.pow(e,3),o=Math.pow(n,3);return r=a>.008856?a:(r-16/116)/7.787,e=s>.008856?s:(e-16/116)/7.787,n=o>.008856?o:(n-16/116)/7.787,[e*=95.047,r*=100,n*=108.883]},o.lab.lch=function(t){var e,r=t[0],n=t[1],a=t[2];return(e=360*Math.atan2(a,n)/2/Math.PI)<0&&(e+=360),[r,Math.sqrt(n*n+a*a),e]},o.lch.lab=function(t){var e,r=t[1];return e=t[2]/360*2*Math.PI,[t[0],r*Math.cos(e),r*Math.sin(e)]},o.rgb.ansi16=function(t){var e=t[0],r=t[1],n=t[2],a=1 in arguments?arguments[1]:o.rgb.hsv(t)[2];if(0===(a=Math.round(a/50)))return 30;var s=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(e/255));return 2===a&&(s+=60),s},o.hsv.ansi16=function(t){return o.rgb.ansi16(o.hsv.rgb(t),t[2])},o.rgb.ansi256=function(t){var e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},o.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var r=.5*(1+~~(t>50));return[(1&e)*r*255,(e>>1&1)*r*255,(e>>2&1)*r*255]},o.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var r;return t-=16,[Math.floor(t/36)/5*255,Math.floor((r=t%36)/6)/5*255,r%6/5*255]},o.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},o.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var r=e[0];3===e[0].length&&(r=r.split("").map((function(t){return t+t})).join(""));var n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},o.rgb.hcg=function(t){var e,r=t[0]/255,n=t[1]/255,a=t[2]/255,s=Math.max(Math.max(r,n),a),o=Math.min(Math.min(r,n),a),i=s-o;return e=i<=0?0:s===r?(n-a)/i%6:s===n?2+(a-r)/i:4+(r-n)/i+4,e/=6,[360*(e%=1),100*i,100*(i<1?o/(1-i):0)]},o.hsl.hcg=function(t){var e,r=t[1]/100,n=t[2]/100,a=0;return(e=n<.5?2*r*n:2*r*(1-n))<1&&(a=(n-.5*e)/(1-e)),[t[0],100*e,100*a]},o.hsv.hcg=function(t){var e=t[2]/100,r=t[1]/100*e,n=0;return r<1&&(n=(e-r)/(1-r)),[t[0],100*r,100*n]},o.hcg.rgb=function(t){var e=t[1]/100,r=t[2]/100;if(0===e)return[255*r,255*r,255*r];var n,a=[0,0,0],s=t[0]/360%1*6,o=s%1,i=1-o;switch(Math.floor(s)){case 0:a[0]=1,a[1]=o,a[2]=0;break;case 1:a[0]=i,a[1]=1,a[2]=0;break;case 2:a[0]=0,a[1]=1,a[2]=o;break;case 3:a[0]=0,a[1]=i,a[2]=1;break;case 4:a[0]=o,a[1]=0,a[2]=1;break;default:a[0]=1,a[1]=0,a[2]=i}return[255*(e*a[0]+(n=(1-e)*r)),255*(e*a[1]+n),255*(e*a[2]+n)]},o.hcg.hsv=function(t){var e=t[1]/100,r=e+t[2]/100*(1-e),n=0;return r>0&&(n=e/r),[t[0],100*n,100*r]},o.hcg.hsl=function(t){var e=t[1]/100,r=t[2]/100*(1-e)+.5*e,n=0;return r>0&&r<.5?n=e/(2*r):r>=.5&&r<1&&(n=e/(2*(1-r))),[t[0],100*n,100*r]},o.hcg.hwb=function(t){var e=t[1]/100,r=e+t[2]/100*(1-e);return[t[0],100*(r-e),100*(1-r)]},o.hwb.hcg=function(t){var e=1-t[2]/100,r=e-t[1]/100,n=0;return r<1&&(n=(e-r)/(1-r)),[t[0],100*r,100*n]},o.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},o.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},o.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},o.gray.hsl=o.gray.hsv=function(t){return[0,0,t[0]]},o.gray.hwb=function(t){return[0,100,t[0]]},o.gray.cmyk=function(t){return[0,0,0,t[0]]},o.gray.lab=function(t){return[t[0],0,0]},o.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r},o.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},uPr3:function(t,e){t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},uxXc:function(t,e,r){var n=r("t1N5"),a=r("onlc"),s={};Object.keys(n).forEach((function(t){s[t]={},Object.defineProperty(s[t],"channels",{value:n[t].channels}),Object.defineProperty(s[t],"labels",{value:n[t].labels});var e=a(t);Object.keys(e).forEach((function(r){var n=e[r];s[t][r]=function(t){var e=function(e){if(null==e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var r=t(e);if("object"==typeof r)for(var n=r.length,a=0;a<n;a++)r[a]=Math.round(r[a]);return r};return"conversion"in t&&(e.conversion=t.conversion),e}(n),s[t][r].raw=function(t){var e=function(e){return null==e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(n)}))})),t.exports=s}}]);